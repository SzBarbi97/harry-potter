<mat-accordion *ngIf="filterForm">
  <mat-expansion-panel>

    <mat-expansion-panel-header class="mat-expansion-panel-header align-items-center justify-content-center">
      <h3 class="mt-3">Character filter</h3>
    </mat-expansion-panel-header>

    <div class="container">
      <hr/>
      <form [formGroup]="filterForm" class="text-center">
        <div class="row justify-content-center">
          <mat-form-field class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12" appearance="fill">
            <mat-label>Character name</mat-label>
            <input
              [matAutocomplete]="nameAutoComplete"
              formControlName="name"
              matInput
            />
            <mat-autocomplete #nameAutoComplete="matAutocomplete">
              <mat-option *ngFor="let name of filteredNames" [value]="name">{{name}}</mat-option>
            </mat-autocomplete>
            <mat-error>No such character name!</mat-error>
          </mat-form-field>

          <mat-form-field class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12" appearance="fill">
            <mat-label>Actor name</mat-label>
            <input
              [matAutocomplete]="actorAutoComplete"
              formControlName="actor"
              matInput
              name="actor"
            />
            <mat-autocomplete #actorAutoComplete="matAutocomplete">
              <mat-option *ngFor="let actor of filteredActors" [value]="actor">{{actor}}</mat-option>
            </mat-autocomplete>
            <mat-error>No such actor name!</mat-error>
          </mat-form-field>

          <mat-form-field class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12" appearance="fill">
            <mat-label>Gender</mat-label>
            <mat-select formControlName="gender">
              <mat-option [value]="'male'">male</mat-option>
              <mat-option [value]="'female'">female</mat-option>
              <mat-option></mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12" appearance="fill">
            <mat-label>House</mat-label>
            <mat-select formControlName="house">
              <mat-option *ngFor="let house of houses" [value]="house">{{house ? house : "No house"}}</mat-option>
              <mat-option></mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12" appearance="fill">
            <mat-label>Species</mat-label>
            <input
              [matAutocomplete]="speciesAutoComplete"
              formControlName="species"
              matInput
              name="species"
            />
            <mat-autocomplete #speciesAutoComplete="matAutocomplete">
              <mat-option
                *ngFor="let species of filteredSpecies"
                [value]="species">
                {{ species }}
              </mat-option>
            </mat-autocomplete>
            <mat-error>No such character species!</mat-error>
          </mat-form-field>

          <mat-form-field class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12" appearance="fill">
            <mat-label>Patronus</mat-label>
            <input
              [matAutocomplete]="patronusAutoComplete"
              formControlName="patronus"
              matInput
              name="patronus"
            />
            <mat-autocomplete #patronusAutoComplete="matAutocomplete">
              <mat-option
                *ngFor="let patronus of filteredPatronus"
                [value]="patronus">
                {{ patronus }}
              </mat-option>
            </mat-autocomplete>
            <mat-error>No such patronus!</mat-error>
          </mat-form-field>

          <mat-form-field class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12" appearance="fill">
            <mat-label>Image</mat-label>
            <mat-select formControlName="image">
              <mat-option [value]="true">Has an image</mat-option>
              <mat-option [value]="false">No image</mat-option>
              <mat-option></mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="fill" class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12">
            <mat-label>Birth date from</mat-label>
            <input
              matInput
              [matDatepicker]="datepickerFrom"
              formControlName="birthDateFrom"
              name="birthDateFrom"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="datepickerFrom"
            ></mat-datepicker-toggle>
            <mat-datepicker #datepickerFrom>
              <mat-datepicker-actions>
                <button class="mr-1" matDatepickerCancel>Cancel</button>
                <button matDatepickerApply>Apply</button>
              </mat-datepicker-actions>
            </mat-datepicker>
            <mat-error>Incorrect date!</mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill" class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12">
            <mat-label>Birth date to</mat-label>
            <input
              matInput
              [matDatepicker]="datepickerTo"
              formControlName="birthDateTo"
              name="birthDateTo"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="datepickerTo"
            ></mat-datepicker-toggle>
            <mat-datepicker #datepickerTo>
              <mat-datepicker-actions>
                <button class="mr-1" matDatepickerCancel>Cancel</button>
                <button matDatepickerApply>Apply</button>
              </mat-datepicker-actions>
            </mat-datepicker>
            <mat-error>Incorrect date!</mat-error>
          </mat-form-field>

          <mat-form-field class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12" appearance="fill">
            <mat-label>Wizard</mat-label>
            <mat-select formControlName="wizard">
              <mat-option [value]="true">Yes</mat-option>
              <mat-option [value]="false">No</mat-option>
              <mat-option></mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12" appearance="fill">
            <mat-label>Ancestry</mat-label>
            <input
              [matAutocomplete]="ancestryAutoComplete"
              formControlName="ancestry"
              matInput
              name="ancestry"
            />
            <mat-autocomplete #ancestryAutoComplete="matAutocomplete">
              <mat-option
                *ngFor="let ancestry of filteredAncestry"
                [value]="ancestry">
                {{ ancestry }}
              </mat-option>
            </mat-autocomplete>
            <mat-error>No such ancestry!</mat-error>
          </mat-form-field>

          <mat-form-field class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12" appearance="fill">
            <mat-label>Alive</mat-label>
            <mat-select formControlName="alive">
              <mat-option [value]="true">Live</mat-option>
              <mat-option [value]="false">Dead</mat-option>
              <mat-option></mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12" appearance="fill">
            <mat-label>Hogwarts</mat-label>
            <mat-select formControlName="hogwarts">
              <mat-option [value]="Hogwarts.STUDENT">Student</mat-option>
              <mat-option [value]="Hogwarts.STAFF">Staff</mat-option>
              <mat-option [value]="Hogwarts.NONE">None of them</mat-option>
              <mat-option></mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <mat-action-row class="justify-content-center">
          <button [disabled]="filterForm.invalid" (click)="onFilterClick()">Filter</button>
          <button (click)="filterForm.reset()" class="ml-1">Reset</button>
        </mat-action-row>
      </form>

    </div>
  </mat-expansion-panel>
</mat-accordion>
